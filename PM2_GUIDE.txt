UPTIME MONITOR PRO - PM2 SETUP GUIDE
=====================================

This guide shows you how to run Uptime Monitor Pro using PM2 for background monitoring.

PREREQUISITES
=============
- Node.js installed
- PM2 installed globally: npm install -g pm2
- All dependencies installed: npm install

STARTING THE APPLICATION WITH PM2
=================================

1. Navigate to the project directory:
   cd /Users/administrator/Documents/uptime-monitor

2. Kill any existing processes using port 3000:
   lsof -ti:3000 | xargs kill -9

3. Start the application with PM2:
   pm2 start uptime-monitor-api.js --name "uptime-monitor"

4. Check if it's running:
   pm2 status

5. Save the PM2 configuration:
   pm2 save

6. Test the application:
   curl http://localhost:3000/api/health

ACCESSING THE WEB INTERFACE
===========================

1. Open your browser and go to:
   http://localhost:3000

2. You can now use all features:
   - View server status and charts
   - Add/remove servers to monitor
   - Configure SMS alerts (Twilio)
   - Configure Email alerts (SendGrid)
   - Configure FTP uploads
   - View real-time monitoring data

MONITORING AND LOGS
===================

View logs in real-time:
pm2 logs uptime-monitor

View last 50 lines of logs:
pm2 logs uptime-monitor --lines 50

Monitor CPU and memory usage:
pm2 monit

Check detailed process information:
pm2 show uptime-monitor

STOPPING BACKGROUND MONITORING
==============================

To stop the PM2 process:
pm2 stop uptime-monitor

To delete the PM2 process completely:
pm2 delete uptime-monitor

To stop all PM2 processes:
pm2 stop all

To delete all PM2 processes:
pm2 delete all

RESTARTING THE APPLICATION
==========================

Restart the process:
pm2 restart uptime-monitor

Reload the process (zero-downtime restart):
pm2 reload uptime-monitor

AUTO-START ON SYSTEM BOOT
=========================

1. Setup PM2 to start on boot:
   pm2 startup

2. Follow the instructions provided by the command above
   (usually involves running a sudo command)

3. Save current PM2 configuration:
   pm2 save

TROUBLESHOOTING
===============

If you get "port 3000 in use" error:
1. Find what's using the port:
   lsof -i :3000

2. Kill the process:
   lsof -ti:3000 | xargs kill -9

3. Restart PM2:
   pm2 restart uptime-monitor

If the process keeps crashing:
1. Check the logs:
   pm2 logs uptime-monitor --lines 50

2. Check for missing dependencies:
   npm install

3. Verify file permissions:
   ls -la ../secure-data/

If PM2 can't find the script:
1. Make sure you're in the correct directory:
   cd /Users/administrator/Documents/uptime-monitor

2. Verify the file exists:
   ls -la uptime-monitor-api.js

3. Start with full path if needed:
   pm2 start /Users/administrator/Documents/uptime-monitor/uptime-monitor-api.js --name "uptime-monitor"

USEFUL PM2 COMMANDS
===================

pm2 status                    - Show all processes
pm2 logs <name>               - View logs for specific process
pm2 monit                     - Real-time monitoring dashboard
pm2 show <name>               - Show detailed process info
pm2 save                      - Save current configuration
pm2 resurrect                 - Restore saved configuration
pm2 flush                     - Clear all logs
pm2 reload <name>             - Zero-downtime restart
pm2 restart <name>            - Restart process
pm2 stop <name>               - Stop process
pm2 delete <name>             - Delete process

BENEFITS OF USING PM2
=====================

- Runs in background even when browser is closed
- Automatically restarts if the app crashes
- Monitors memory usage and restarts if needed
- Logs all output for debugging
- Can start automatically on system boot
- Zero-downtime deployments
- Process management and monitoring

WHAT HAPPENS WHEN PM2 IS RUNNING
================================

- Server monitoring continues 24/7
- SMS alerts are sent automatically when servers go down/up
- Email alerts are sent automatically when servers go down/up
- FTP uploads happen every 5 minutes automatically
- Data is saved to JSON files continuously
- Web interface remains accessible at http://localhost:3000
- All monitoring features work normally

QUICK START COMMANDS
====================

# Start the application
cd /Users/administrator/Documents/uptime-monitor
pm2 start uptime-monitor-api.js --name "uptime-monitor"
pm2 save

# Check status
pm2 status

# View logs
pm2 logs uptime-monitor

# Stop the application
pm2 stop uptime-monitor

# Delete the application
pm2 delete uptime-monitor

# Access web interface
open http://localhost:3000

NOTES
=====

- The application will continue monitoring even if you close your browser
- Alerts (SMS/Email) will be sent automatically
- FTP uploads happen every 5 minutes automatically
- All data is saved to ../secure-data/ directory
- PM2 keeps the process running and restarts it if it crashes
- You can access the web interface anytime at http://localhost:3000


